// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Item{
  id String @id @default(uuid())
  name String
  quantity Int //current quantity
  historyQTY Int? //how many sold in the past
  // lastCompletedPerson String? //the last person that completed an order with this item
  completedTimes Json [] //the timestamps of this item being ordered along with the qty
  image String?
  units String?
  createdAt DateTime @default(now()) @db.Timestamp

  yesterdayStock Yesterday? @relation(fields: [yesterdayId], references: [id])
  yesterdayId String? @unique
}

model Yesterday{
  id String @id @default(uuid())
  stock Int @default(0)
  item Item?
}
